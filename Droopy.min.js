function tmpl(a,b){var c=/\W/.test(a)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+a.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):cache[a]=cache[a]||tmpl(document.getElementById(a).innerHTML);return b?c(b):c}function _fetchDomObject(a,b,c){jQuery.get(a,function(a){var d=document.createElement("div");d.innerHTML=a;var e=jQuery(d),f=e.find(b);c.html(f)})}function getFileNameFromURL(a){return a.substring(a.lastIndexOf("/")+1)}function getWebOneGID(){return Drupal?Drupal.settings.ogContext.gid:-1}function getDroopyCSS(){for(var a=0;a<document.styleSheets.length;a++){var b=document.styleSheets[a].href;if("Droopy.css"==getFileNameFromURL(b))return b}return""}function isDroopyCSSLoaded(){return""!==getDroopyCSS()}function initDroopyCalendar(a){if(0!==jQuery(a).length){var b=jQuery(a),c="http://www.csun.edu/calendar-events/month/"+getWebOneGID();_fetchDomObject(c,".view-id-calendar_events_og",b),jQuery(".pager a").live("click",function(a){a.preventDefault(),_fetchDomObject(jQuery(this).attr("href"),".view-id-calendar_events_og",b)})}}var cache={},MonthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],MonthNamesShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];String.prototype.replaceAll=function(a,b,c){return this.replace(new RegExp(a.replace(/([\/\,\!\\\^\$\{\}\[\]\(\)\.\*\+\?\|\<\>\-\&])/g,"\\$&"),c?"gi":"g"),"string"==typeof b?b.replace(/\$/g,"$$$$"):b)},jQuery(document).ready(function(){if(jQuery("#accordion").length){var a=window.location.hash;if(a.length){var b=a.replaceAll("-"," ").replace("#","").replaceAll("_","-"),c=jQuery("h2:contains('"+b+"')");if(c.length){a=a.replace(/[^a-z0-9-]/gi,""),c.attr("id",a);var d=jQuery("#"+a);d.length&&(d.click(),d[0].scrollIntoView(),jQuery(".pane-page-elements h1").css("margin-top","20px"),jQuery(".sidebar .pane-menu-tree h2.pane-title").css("margin-top","30px"))}}}jQuery(".droopy-ebt").each(function(){var a=jQuery(this),b=a.data("tag"),c="http://www.csun.edu/events-by-term/"+getWebOneGID()+"/"+b;_fetchDomObject(c,".view-content",a)}),initDroopyCalendar("#droopyCalendar")});