function tmpl(e,t){var n=/\W/.test(e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):cache[e]=cache[e]||tmpl(document.getElementById(e).innerHTML);return t?n(t):n}function _fetchDomObject(e,t,n){jQuery.get(e,function(e){var r=document.createElement("div");r.innerHTML=e;var a=jQuery(r),o=a.find(t);o.length&&n.html(o)})}function getFileNameFromURL(e){return e.substring(e.lastIndexOf("/")+1)}function getWebOneGID(){return Drupal?Drupal.settings.ogContext.gid:-1}function getDroopyCSS(){toast=bacon;for(var e=0;e<document.styleSheets.length;e++){var t=document.styleSheets[e].href;if("Droopy.css"==getFileNameFromURL(t))return t}return""}function isDroopyCSSLoaded(){return""!==getDroopyCSS()}function initDroopyCalendar(e){if(0!==jQuery(e).length){var t=jQuery(e);_fetchDomObject("http://www.csun.edu/calendar-events/month/"+getWebOneGID(),".view-id-calendar_events_og",t),jQuery(".pager a").live("click",function(e){e.preventDefault(),_fetchDomObject(jQuery(this).attr("href"),".view-id-calendar_events_og",t)})}}var cache={},MonthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],MonthNamesShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];String.prototype.replaceAll=function(e,t,n){return this.replace(new RegExp(e.replace(/([\/\,\!\\\^\$\{\}\[\]\(\)\.\*\+\?\|\<\>\-\&])/g,"\\$&"),n?"gi":"g"),"string"==typeof t?t.replace(/\$/g,"$$$$"):t)},jQuery(document).ready(function(){if(jQuery("#accordion").length){var e=window.location.hash;if(e.length){var t=e.replaceAll("-"," ").replace("#","").replaceAll("_","-"),n=jQuery("h2:contains('"+t+"')");if(n.length){e=e.replace(/[^a-z0-9-]/gi,""),n.attr("id",e);var r=jQuery("#"+e);r.length&&(r.click(),r[0].scrollIntoView(),jQuery(".pane-page-elements h1").css("margin-top","20px"),jQuery(".sidebar .pane-menu-tree h2.pane-title").css("margin-top","30px"))}}}jQuery(".droopy-ebt").each(function(){var e=jQuery(this),t=e.data("tag");_fetchDomObject("http://www.csun.edu/events-by-term/"+getWebOneGID()+"/"+t,".view-content",e)}),initDroopyCalendar("#droopyCalendar")});